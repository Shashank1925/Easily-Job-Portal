<div class="newOpening">
  <h2>Update Job Post</h2>
  <form action="/updateJo/<%= job.id %>" method="POST">
    <div class="mb-3">
      <div class="input-group mb-2">
        <select class="form-select" id="inputGroupSelect" name="role">
          <option selected>Choose...</option>
          <option value="Tech" <%= job.role === 'Tech' ? 'selected' : '' %>>Tech</option>
          <option value="Non-Tech" <%= job.role === 'Non-Tech' ? 'selected' : '' %>>Non-Tech</option>
        </select>
      </div>
    </div>

    <div class="mb-3">
      <div class="input-group mb-2">
        <select class="form-select" id="inputGroupSelect01" name="designation">
          <option selected>Choose...</option>
          <option value="HR" <%= job.designation === 'HR' ? 'selected' : '' %>>HR</option>
          <option value="SDE" <%= job.designation === 'SDE' ? 'selected' : '' %>>SDE</option>
          <option value="DevOps" <%= job.designation === 'DevOps' ? 'selected' : '' %>>DevOps</option>
          <option value="MEAN Developer" <%= job.designation === 'MEAN Developer' ? 'selected' : '' %>>MEAN Developer</option>
          <option value="MEARN Developer" <%= job.designation === 'MEARN Developer' ? 'selected' : '' %>>MEARN Developer</option>
          <option value="JAVA Developer" <%= job.designation === 'JAVA Developer' ? 'selected' : '' %>>JAVA Developer</option>
          <option value="Front End Developer" <%= job.designation === 'Front End' ? 'selected' : '' %>>Front End</option>
          <option value="Back End Developer" <%= job.designation === 'Back End Developer' ? 'selected' : '' %>>Back End Developer</option>
          <option value="Full Stack Developer" <%= job.designation === 'Full Stack Developer' ? 'selected' : '' %>>Full Stack Developer</option>
      </select>
      </div>

    <div class="input-group mb-3 opening">
      <label class="input-group-text" id="jobopeningLabel" for="jobopening">Job Opening</label>
      <input
        type="number"
        class="form-control"
        id="jobopening"
        name="jobopening"
        min="1"
        max="10"
        value="<%= job.jobopening %>"
        placeholder="Job Opening"
      />
    </div>

    <div class="combine">
      <div class="mb-2">
        <input type="text" class="form-control" id="salary" name="salary" value="<%= job.salary %>" placeholder="Salary" />
      </div>
      <div class="mb-2">
        <input type="text" class="form-control" id="location" name="location" value="<%= job.location %>" placeholder="location"  />
      </div>
    </div>

    <div class="group">
      <div class="input-group mb-2">
        <label class="input-group-text" id="companyLabel" for="company-name">Company</label>
        <input type="text" class="form-control" id="company-name" name="companyName" value="<%= job.companyName %>" placeholder="Company Name" />
      </div>
      <input type="date" id="dob" name="dob" value="<%= job.dob %>" />
    </div>
    <!-- here is the skill section  -->
    <div class="overflow">Skills Required:</div>
          <!-- Hidden Input Field js will update this field -->
  <input type="hidden" id="selectedSkills" name="skills" value="<%= job.skills.join(',') %>">
  <!-- Skills List (Overflow Div) -->
  <div class="border p-2 overflow-auto" style="max-height: 150px;">
    <ul class="list-group" id="skillsList">
      <% skillsList.forEach(skill => { %>
        <li class="list-group-item skill">
          <input type="checkbox" name="skills" value="<%= skill %>"
          <%= job.skills.includes(skill) ? "checked" : "" %> > <%= skill %>
        </li>
      <% }); %>
    </ul>
  </div>
  
<!-- showing the selected skills  -->
<h5>Required Skills:</h5>
<div id="selectedSkillsContainer">
</div>
    <button type="submit" class="btn btn-primary">Update Job</button>
  </form>
</div>
